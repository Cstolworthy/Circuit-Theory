<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2: Binary Arithmetic | Circuit Theory & Robotics</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../js/script.js" defer></script>
    <!-- MathJax for LaTeX support -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* Additional styles for LaTeX content */
        .latex-block {
            margin: 1.5rem 0;
            overflow-x: auto;
            text-align: center;
        }
        
        .code-block {
            background-color: #f5f5f5;
            padding: 1.5rem;
            border: 1px solid #ddd;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            white-space: pre;
            display: block;
        }
        
        .code-block code {
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            display: block;
            white-space: pre;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Circuit Theory & Robotics</h1>
            <p class="tagline">A comprehensive guide to understanding circuits and building robots</p>
        </div>
    </header>

    <main class="container">
        <div class="lesson-nav">
            <a href="../index.html">← Back to Course Overview</a>
        </div>

        <article class="lesson-content">
            <h2>Lesson 2: Binary Arithmetic</h2>
            <p>Understanding binary arithmetic operations for digital systems and microcontrollers.</p>
            
            <section>
                <h3>Introduction to Binary Arithmetic</h3>
                <p>Binary arithmetic forms the foundation of all computations in digital systems. In this lesson, we'll explore how basic arithmetic operations are performed using binary numbers.</p>
                <p>Recall from Lesson 1 that binary uses only two digits (0 and 1) and follows a positional system where each digit represents a power of 2.</p>
                <div class="latex-block">
                    \begin{array}{rcl}
                    \text{Decimal } 42 &=& 4 \times 10^1 + 2 \times 10^0 \\
                    \text{Binary } 101010_{2} &=& 1 \times 2^5 + 0 \times 2^4 + 1 \times 2^3 + 0 \times 2^2 + 1 \times 2^1 + 0 \times 2^0 \\
                    &=& 32 + 0 + 8 + 0 + 2 + 0 \\
                    &=& 42_{10}
                    \end{array}
                </div>
                <p>Now, let's learn how to perform arithmetic operations in this binary system.</p>
            </section>
            
            <section>
                <h3>Binary Addition</h3>
                <p>Binary addition follows rules similar to decimal addition, but with only two digits (0 and 1):</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 + 0 = 0 \\
                    0 + 1 = 1 \\
                    1 + 0 = 1 \\
                    1 + 1 = 10 \text{ (which is 2 in decimal, written as 0 with a carry of 1)}
                    \end{array}
                </div>
                <p>Let's work through an example: adding 1011<sub>2</sub> and 101<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & & 1 & 0 & 1 & 1 \\
                    + & & & 1 & 0 & 1 \\
                    \hline
                      & & 1 & 1 & 0 & 0 \\
                    \end{array}
                </div>
                <p>Working from right to left:</p>
                <ol>
                    <li>1 + 1 = 10, write 0, carry 1</li>
                    <li>1 + 0 + 1 (carry) = 10, write 0, carry 1</li>
                    <li>0 + 1 + 1 (carry) = 10, write 0, carry 1</li>
                    <li>1 + 0 + 1 (carry) = 10, write 0, carry 1</li>
                    <li>Write the final carry 1</li>
                </ol>
                <p>So 1011<sub>2</sub> + 101<sub>2</sub> = 10000<sub>2</sub>, which is 11 + 5 = 16 in decimal.</p>
            </section>
            
            <section>
                <h3>Binary Subtraction</h3>
                <p>There are two common approaches to binary subtraction:</p>
                
                <h4>1. Direct Method</h4>
                <p>Similar to decimal subtraction, but with binary borrowing rules:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 - 0 = 0 \\
                    1 - 0 = 1 \\
                    1 - 1 = 0 \\
                    0 - 1 = 1 \text{ (with borrow)}
                    \end{array}
                </div>
                <p>Example: 1101<sub>2</sub> - 1001<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & & 1 & 1 & 0 & 1 \\
                    - & & 1 & 0 & 0 & 1 \\
                    \hline
                      & & 0 & 1 & 0 & 0 \\
                    \end{array}
                </div>
                <p>Result: 1101<sub>2</sub> - 1001<sub>2</sub> = 0100<sub>2</sub> (13 - 9 = 4 in decimal)</p>
                
                <h4>2. Two's Complement Method</h4>
                <p>In digital systems, subtraction is often implemented using the two's complement method:</p>
                <ol>
                    <li>Take the two's complement of the subtrahend (number being subtracted)</li>
                    <li>Add it to the minuend (number being subtracted from)</li>
                    <li>Discard any carry beyond the original bit width</li>
                </ol>
                <p>To find the two's complement of a binary number:</p>
                <ol>
                    <li>Invert all bits (change 0s to 1s and 1s to 0s)</li>
                    <li>Add 1 to the result</li>
                </ol>
                <p>Example: 1101<sub>2</sub> - 1001<sub>2</sub> using two's complement</p>
                <div class="latex-block">
                    \begin{array}{l}
                    \text{Two's complement of 1001:} \\
                    \text{Invert: } 0110 \\
                    \text{Add 1: } 0110 + 1 = 0111 \\
                    \text{Now add: } 1101 + 0111 = 10100 \\
                    \text{Discard extra carry: } 0100
                    \end{array}
                </div>
                <p>Result: 0100<sub>2</sub> (4 in decimal), which is correct.</p>
            </section>
            
            <section>
                <h3>Binary Multiplication</h3>
                <p>Binary multiplication follows these simple rules:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 \times 0 = 0 \\
                    0 \times 1 = 0 \\
                    1 \times 0 = 0 \\
                    1 \times 1 = 1
                    \end{array}
                </div>
                <p>Example: 101<sub>2</sub> × 11<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & & 1 & 0 & 1 \\
                    \times & & & 1 & 1 \\
                    \hline
                      & & 1 & 0 & 1 \\
                    + & 1 & 0 & 1 & 0 & \\
                    \hline
                      & 1 & 1 & 1 & 1 & \\
                    \end{array}
                </div>
                <p>Result: 101<sub>2</sub> × 11<sub>2</sub> = 1111<sub>2</sub> (5 × 3 = 15 in decimal)</p>
                <p>Note that binary multiplication can be implemented using shifts and additions, which is efficient in digital systems.</p>
            </section>
            
            <section>
                <h3>Binary Division</h3>
                <p>Binary division follows the same principles as decimal long division:</p>
                <div class="latex-block">
                    \begin{array}{r}
                    101 \\
                    10 \overline{)1010} \\
                    \underline{10\phantom{10}} \\
                    \phantom{1}10 \\
                    \underline{\phantom{1}10} \\
                    \phantom{11}0
                    \end{array}
                </div>
                <p>Result: 1010<sub>2</sub> ÷ 10<sub>2</sub> = 101<sub>2</sub> with remainder 0 (10 ÷ 2 = 5 in decimal)</p>
                <p>In digital systems, division is typically implemented using a combination of shifts, comparisons, and subtractions.</p>
            </section>
            
            <section>
                <h3>Bitwise Operations</h3>
                <p>In addition to arithmetic operations, digital systems extensively use bitwise operations that work on individual bits:</p>
                
                <h4>1. Bitwise AND (&amp;)</h4>
                <p>Performs logical AND on each pair of corresponding bits:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 \text{ AND } 0 = 0 \\
                    0 \text{ AND } 1 = 0 \\
                    1 \text{ AND } 0 = 0 \\
                    1 \text{ AND } 1 = 1
                    \end{array}
                </div>
                <p>Example: 1100<sub>2</sub> &amp; 1010<sub>2</sub> = 1000<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & 1 & 1 & 0 & 0 \\
                    \text{\&amp;} & 1 & 0 & 1 & 0 \\
                    \hline
                      & 1 & 0 & 0 & 0 \\
                    \end{array}
                </div>
                <p>Common use: Masking (isolating specific bits)</p>
                
                <h4>2. Bitwise OR (|)</h4>
                <p>Performs logical OR on each pair of corresponding bits:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 \text{ OR } 0 = 0 \\
                    0 \text{ OR } 1 = 1 \\
                    1 \text{ OR } 0 = 1 \\
                    1 \text{ OR } 1 = 1
                    \end{array}
                </div>
                <p>Example: 1100<sub>2</sub> | 1010<sub>2</sub> = 1110<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & 1 & 1 & 0 & 0 \\
                    | & 1 & 0 & 1 & 0 \\
                    \hline
                      & 1 & 1 & 1 & 0 \\
                    \end{array}
                </div>
                <p>Common use: Setting specific bits</p>
                
                <h4>3. Bitwise XOR (^)</h4>
                <p>Performs logical XOR (exclusive OR) on each pair of corresponding bits:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    0 \text{ XOR } 0 = 0 \\
                    0 \text{ XOR } 1 = 1 \\
                    1 \text{ XOR } 0 = 1 \\
                    1 \text{ XOR } 1 = 0
                    \end{array}
                </div>
                <p>Example: 1100<sub>2</sub> ^ 1010<sub>2</sub> = 0110<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{rrrrr}
                      & 1 & 1 & 0 & 0 \\
                    \text{^} & 1 & 0 & 1 & 0 \\
                    \hline
                      & 0 & 1 & 1 & 0 \\
                    \end{array}
                </div>
                <p>Common use: Toggle bits, simple encryption</p>
                
                <h4>4. Bitwise NOT (~)</h4>
                <p>Inverts all bits in a number:</p>
                <div class="latex-block">
                    \begin{array}{l}
                    \text{NOT } 0 = 1 \\
                    \text{NOT } 1 = 0
                    \end{array}
                </div>
                <p>Example: ~1010<sub>2</sub> = 0101<sub>2</sub> (in 4-bit representation)</p>
                <p>Common use: Creating inverse masks, finding two's complement</p>
            </section>
            
            <section>
                <h3>Shift Operations</h3>
                <p>Shift operations move bits to the left or right within a binary number:</p>
                
                <h4>1. Left Shift (&lt;&lt;)</h4>
                <p>Shifts all bits to the left by a specified number of positions, filling vacated positions with 0s.</p>
                <p>Example: 1011<sub>2</sub> &lt;&lt; 2 = 101100<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{ll}
                    \text{Original: } & 1011_{2} \\
                    \text{After left shift by 2: } & 101100_{2}
                    \end{array}
                </div>
                <p>Effect: Multiplies the number by 2<sup>n</sup> (where n is the shift amount)</p>
                
                <h4>2. Right Shift (&gt;&gt;)</h4>
                <p>Shifts all bits to the right by a specified number of positions.</p>
                <p>Example: 1011<sub>2</sub> &gt;&gt; 2 = 10<sub>2</sub></p>
                <div class="latex-block">
                    \begin{array}{ll}
                    \text{Original: } & 1011_{2} \\
                    \text{After right shift by 2: } & 10_{2}
                    \end{array}
                </div>
                <p>Effect: Divides the number by 2<sup>n</sup> (where n is the shift amount), ignoring remainder</p>
            </section>
            
            <section>
                <h3>Applications in Microcontroller Programming</h3>
                <p>Binary arithmetic and bitwise operations are fundamental in microcontroller programming, especially for:</p>
                <ul>
                    <li><strong>Register Manipulation:</strong> Setting, clearing, or toggling specific bits in control registers</li>
                    <li><strong>Efficient Calculations:</strong> Using shifts instead of multiplication/division</li>
                    <li><strong>Packing Data:</strong> Storing multiple values in a single byte to save memory</li>
                    <li><strong>I/O Control:</strong> Managing multiple I/O pins with a single operation</li>
                </ul>
                <div class="code-block"><code>
// C/C++ BITWISE OPERATIONS EXAMPLES
// ================================

// BASIC OPERATIONS
// ----------------
// NOT operation (bitwise complement)
result = ~A;                     // Inverts all bits in A

// AND operation (bitwise AND)
result = A & B;                  // Sets bits where both A AND B have 1s

// OR operation (bitwise OR)
result = A | B;                  // Sets bits where either A OR B have 1s

// XOR operation (bitwise exclusive OR)
result = A ^ B;                  // Sets bits where either A OR B (but not both) have 1s

// REGISTER MANIPULATION (for microcontrollers)
// -------------------------------------------
// Set a specific bit (turn it ON)
PORTB |= (1 << 3);               // Set bit 3 in PORT B to 1
                                 // Equivalent to: PORTB |= 0x08;

// Clear a specific bit (turn it OFF)
PORTD &= ~(1 << 5);              // Set bit 5 in PORT D to 0
                                 // Equivalent to: PORTD &= 0xDF;

// Toggle a specific bit (flip its state)
PORTC ^= (1 << 2);               // Change bit 2 in PORT C from 0→1 or 1→0
                                 // Equivalent to: PORTC ^= 0x04;

// Check if a bit is set (test if it's ON)
if (PINA & (1 << 4)) {
    // Bit 4 in PORT A is high (1)
    // Execute code when bit is ON
}

// EFFICIENT ARITHMETIC WITH SHIFTS
// -------------------------------
// Left shift (multiply by powers of 2)
int valueMultiplied = value << 3;  // Equivalent to: value * 8

// Right shift (divide by powers of 2)
int valueDivided = value >> 2;     // Equivalent to: value / 4
</code></div>
                <p>Understanding binary arithmetic and bitwise operations is essential for efficient microcontroller programming, especially in memory-constrained environments typical in robotics.</p>
            </section>
            
            <section>
                <h3>Practice Exercises</h3>
                <ol>
                    <li>Add the binary numbers 1101<sub>2</sub> and 1011<sub>2</sub></li>
                    <li>Subtract 1010<sub>2</sub> from 11001<sub>2</sub> using both direct method and two's complement</li>
                    <li>Multiply 1101<sub>2</sub> by 101<sub>2</sub></li>
                    <li>Perform bitwise AND, OR, and XOR on 1100<sub>2</sub> and 1010<sub>2</sub></li>
                    <li>Shift 10110<sub>2</sub> left by 2 positions and right by 1 position</li>
                </ol>
                <p>Try solving these on your own before checking the solutions in the next lesson!</p>
            </section>
            
            <section>
                <h3>Summary</h3>
                <p>In this lesson, we've covered:</p>
                <ul>
                    <li>Binary addition and subtraction methods</li>
                    <li>Binary multiplication and division</li>
                    <li>Bitwise operations (AND, OR, XOR, NOT)</li>
                    <li>Shift operations and their applications</li>
                    <li>Practical applications in microcontroller programming</li>
                </ul>
                <p>These operations form the foundation of all computations in digital systems, including microcontrollers used in robotics. In the next lesson, we'll explore logic gates, which implement these binary operations at the hardware level.</p>
            </section>
        </article>

        <div class="lesson-navigation">
            <a href="lesson1.html" class="btn btn-primary">← Previous: Binary Number System</a>
            <a href="lesson3.html" class="btn btn-primary">Next: Logic Gates →</a>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 Circuit Theory & Robotics. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>